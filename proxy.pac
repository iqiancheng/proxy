function FindProxyForURL(url, host) {
    // 定义需要通过代理访问的域名列表
    var proxy_domains = ["f7tk.com", "browser-intake-datadoghq.com", "microsoft.com", "cdn.auth0.com", "javascript.info", "platform.openai.com", "auth0.openai.com", "vimeo.com", "azureedge.net", "vimeocdn.com", "statsig.com", "doubleclick.net", "edgecompute.app", "chat.openai.com", "pay.openai.com", "cloudflareinsights.com", "google-analytics.com", "hcaptcha.com", "identrust.com", "azurefd.net", "statsigapi.net", "bard.google.com", "openaiapi-site.azureedge.net", "intercom.io", "oaistatic.com", "cdn.cloudflare.net", "intercomcdn.com", "sfx.ms", "livekit.cloud", "blob.core.windows.net", "gvt2.com", "challenges.cloudflare.com", "invoice.stripe.com", "akamaitechnologies.com", "poe.com", "oaiusercontent.com", "gvt3.com", "msftconnecttest.com", "pki.goog", "gpt3sandbox.com", "epsiloncdn.net", "stripe.network", "recaptcha.net", "featuregates.org", "openaicom.imgix.net", "a-msedge.net", "licdn.com", "stripe.com", "ip-api.com", "revenuecat.com", "sentry.io", "1e100.net", "abc.com", "abema.tv", "acast.com", "adrta.com", "adsrvr.org", "adswizz.com", "agkn.com", "akamai.net", "amazon-adsystem.com", "amazonaws.com", "amctv.com", "amemv.com", "att.com", "aws.amazon.com", "awsstatic.com", "bahamut.com.tw", "bbc.co.uk", "beinsportsconnect.net", "beinsportsconnect.tv", "brightcove.com", "byteoversea.com", "cbs.com", "cloudfront.net", "codec-cluster.org", "conviva.com", "crashlytics.com", "crwdcntrl.net", "cwtv.com", "digicert.com", "directv.com", "directvnow.com", "dns.alidns.com", "doh.pub", "doubleverify.com", "dtvce.com", "fbcdn.net", "footprint.net", "fox.com", "fwmr.net", "gamer.com.tw", "ggpht.com", "go.com", "googleapis.com", "googletagmanager.com", "googleusercontent.com", "googlevideo.com", "gstatic.com", "gvt1.com", "hbo.com", "hbogo.com", "hbonow.com", "hinet.net", "hulu.com", "huluad.com", "huluim.com", "hulustream.com", "ibytedtos.com", "ibyteimg.com", "ifconfig.co", "imrworldwide.com", "imsbiz.com", "innovid.com", "inq.com", "ip2location.com", "iphone-ld.apple.com", "ipstatp.com", "iqiyi.com", "lcdn-locator.apple.com", "lcdn-registration.apple.com", "line-apps.com", "line.me", "linwd.net", "mathjax.org", "maxmind.com", "movetv.com", "mtv.com", "mtvnservices.com", "muscdn.com", "musical.ly", "nameblo.jp", "naver.jp", "nbc.com", "nbcuni.com", "netflixdnstest0.com", "netflixdnstest1.com", "netflixdnstest2.com", "netflixdnstest3.com", "netflixdnstest4.com", "netflixdnstest5.com", "netflixdnstest6.com", "netflixdnstest7.com", "netflixdnstest8.com", "netflixdnstest9.com", "netvigator.com", "nflximg.com", "nytimg.com", "omtrdc.net", "openx.net", "p16-tiktokcdn-com.akamaized.net", "pbs.org", "playstation.net", "pubmatic.com", "push.apple.com", "radiotime.com", "scorecardresearch.com", "serving-sys.com", "sgpstatp.com", "sho.com", "showtime.com", "sling.com", "snssdk.com", "spcsdns.net", "spotxchange.com", "t.co", "tapbots.com", "tik-tokapi.com", "tiktok.com", "tiktokcdn.com", "tiktokv.com", "tremorhub.com", "ttvnw.net", "turnin.com", "tver.jp", "twitch.tv", "twitter.com", "uplynk.com", "viblast.com", "videoamp.com", "x.com", "xboxlive.com", "yahoo.co.jp", "yimg.jp", "youtu.be", "youtube-nocookie.com", "youtube.com", "youtubekids.com", "zlibrary-east.se", "auth0.com", "xai.com", "x.ai", "grok.com", "ai.com", "perplexity.ai", "discord.com", "discord.gg", "groq.com", "twimg.com", "anthropic.com", "ai.google.dev", "midjourney.com", "aitdk.com", "gravatar.com", "chatgpt.com", "claude.ai", "compute-pipe.com", "cloudflare.com", "openai.com", "primevideo.com", "amazonvideo.com", "amazon.de", "amazon.co.uk", "amazon.co.jp", "amazon.com", "nflxvideo.net", "nflxso.net", "nflximg.net", "nflxext.com", "netflix.net", "netflix.com", "fast.com", "google.com"];

    // 设置代理服务器的地址和端口
    var proxy = "PROXY 127.0.0.1:7890";

    // 检查当前请求的域名是否在代理列表中
    for (var i = 0; i < proxy_domains.length; i++) {
        if (shExpMatch(host, proxy_domains[i])) {
            return proxy;
        }
    }

    // 如果不在列表中，直接连接
    return "DIRECT";
}
